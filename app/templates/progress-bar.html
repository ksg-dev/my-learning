 <div class="card">
	  <div class="card-body">
		  <h5 class="card-title">Loading Bar</h5>
			  <div class="progress">
                <div class="progress-bar"
					 id="progress-bar"
					 role="progressbar"
					 style="width: 0%"
					 aria-valuenow="0"
					 aria-valuemin="0"
					 aria-valuemax="100">
					<span class="sr-only">0% Complete</span>
				</div>
				  </div>
				  <button id="start-button">Start Task</button>
		  		<div id="result"></div>

				  <script>

					  const startButton = document.getElementById('start-button');
					  const progressBar = document.getElementById('progress-bar');
					  const resultDiv = document.getElementById('result');
					  const SCRIPT_ROOT = {{ request.script_root|tojson }}



					  startButton.addEventListener('click', () => {
						  startButton.disabled = true;
						  progressBar.style.width = '0%';
						  progressBar.textContent = '0%';
						  progressBar.ariavaluenow = '0';
						  resultDiv.textContent = '';

						  fetch('/start_task', {method: 'POST'})
						  	.then(response => response.json())
						  	.then(data => {
							  const taskId = data.task_id;
							  checkProgress(taskId);
						  });
					  });

					  function checkProgress(taskId) {
						  fetch(`/get_progress/${taskId}`)
						  	.then(response => response.json())
						  	.then(data => {
							  progressBar.style.width = data.progress + '%';
							  progressBar.textContent = data.progress + '%';
							  progressBar.ariavaluenow = data.progress;

							  if (data.result) {
								  resultDiv.textContent = data.result;
								  startButton.disabled = false;
							  } else {
								  setTimeout(() => checkProgress(taskId), 1000);
							  }
						  });
					  }

				  </script>

			  </div>
		  </div>